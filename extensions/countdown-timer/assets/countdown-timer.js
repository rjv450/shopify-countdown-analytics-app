(function(){"use strict";var R,g,ae,P,ue,fe,de,pe,Z,ee,te,U={},me=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,O=Array.isArray;function C(e,t){for(var n in t)e[n]=t[n];return e}function ne(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function We(e,t,n){var o,i,r,s={};for(r in t)r=="key"?o=t[r]:r=="ref"?i=t[r]:s[r]=t[r];if(arguments.length>2&&(s.children=arguments.length>3?R.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)s[r]===void 0&&(s[r]=e.defaultProps[r]);return q(e,s,o,i,null)}function q(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ae,__i:-1,__u:0};return i==null&&g.vnode!=null&&g.vnode(r),r}function J(e){return e.children}function V(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?I(e):null}function he(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return he(e)}}function ge(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!G.__r++||ue!=g.debounceRendering)&&((ue=g.debounceRendering)||fe)(G)}function G(){for(var e,t,n,o,i,r,s,c=1;P.length;)P.length>c&&P.sort(de),e=P.shift(),c=P.length,e.__d&&(n=void 0,o=void 0,i=(o=(t=e).__v).__e,r=[],s=[],t.__P&&((n=C({},o)).__v=o.__v+1,g.vnode&&g.vnode(n),oe(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,i??I(o),!!(32&o.__u),s),n.__v=o.__v,n.__.__k[n.__i]=n,Se(r,n,s),o.__e=o.__=null,n.__e!=i&&he(n)));G.__r=0}function ve(e,t,n,o,i,r,s,c,u,l,f){var _,d,a,p,k,b,m,h=o&&o.__k||me,w=t.length;for(u=je(n,t,h,u,w),_=0;_<w;_++)(a=n.__k[_])!=null&&(d=a.__i==-1?U:h[a.__i]||U,a.__i=_,b=oe(e,a,d,i,r,s,c,u,l,f),p=a.__e,a.ref&&d.ref!=a.ref&&(d.ref&&re(d.ref,null,a),f.push(a.ref,a.__c||p,a)),k==null&&p!=null&&(k=p),(m=!!(4&a.__u))||d.__k===a.__k?u=ye(a,u,e,m):typeof a.type=="function"&&b!==void 0?u=b:p&&(u=p.nextSibling),a.__u&=-7);return n.__e=k,u}function je(e,t,n,o,i){var r,s,c,u,l,f=n.length,_=f,d=0;for(e.__k=new Array(i),r=0;r<i;r++)(s=t[r])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=e.__k[r]=q(null,s,null,null,null):O(s)?s=e.__k[r]=q(J,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?s=e.__k[r]=q(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[r]=s,u=r+d,s.__=e,s.__b=e.__b+1,c=null,(l=s.__i=Be(s,n,u,_))!=-1&&(_--,(c=n[l])&&(c.__u|=2)),c==null||c.__v==null?(l==-1&&(i>f?d--:i<f&&d++),typeof s.type!="function"&&(s.__u|=4)):l!=u&&(l==u-1?d--:l==u+1?d++:(l>u?d--:d++,s.__u|=4))):e.__k[r]=null;if(_)for(r=0;r<f;r++)(c=n[r])!=null&&!(2&c.__u)&&(c.__e==o&&(o=I(c)),xe(c,c));return o}function ye(e,t,n,o){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=ye(i[r],t,n,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=I(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Be(e,t,n,o){var i,r,s,c=e.key,u=e.type,l=t[n],f=l!=null&&(2&l.__u)==0;if(l===null&&c==null||f&&c==l.key&&u==l.type)return n;if(o>(f?1:0)){for(i=n-1,r=n+1;i>=0||r<t.length;)if((l=t[s=i>=0?i--:r++])!=null&&!(2&l.__u)&&c==l.key&&u==l.type)return s}return-1}function be(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Le.test(t)?n:n+"px"}function K(e,t,n,o,i){var r,s;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||be(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||be(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(pe,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=Z,e.addEventListener(t,r?te:ee,r)):e.removeEventListener(t,r?te:ee,r);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function we(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Z++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function oe(e,t,n,o,i,r,s,c,u,l){var f,_,d,a,p,k,b,m,h,w,F,M,E,X,A,z,j,T=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),r=[c=t.__e=n.__e]),(f=g.__b)&&f(t);e:if(typeof T=="function")try{if(m=t.props,h="prototype"in T&&T.prototype.render,w=(f=T.contextType)&&o[f.__c],F=f?w?w.props.value:f.__:o,n.__c?b=(_=t.__c=n.__c).__=_.__E:(h?t.__c=_=new T(m,F):(t.__c=_=new V(m,F),_.constructor=T,_.render=Oe),w&&w.sub(_),_.state||(_.state={}),_.__n=o,d=_.__d=!0,_.__h=[],_._sb=[]),h&&_.__s==null&&(_.__s=_.state),h&&T.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=C({},_.__s)),C(_.__s,T.getDerivedStateFromProps(m,_.__s))),a=_.props,p=_.state,_.__v=t,d)h&&T.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),h&&_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(h&&T.getDerivedStateFromProps==null&&m!==a&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(m,F),t.__v==n.__v||!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(m,_.__s,F)===!1){for(t.__v!=n.__v&&(_.props=m,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(N){N&&(N.__=t)}),M=0;M<_._sb.length;M++)_.__h.push(_._sb[M]);_._sb=[],_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(m,_.__s,F),h&&_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(a,p,k)})}if(_.context=F,_.props=m,_.__P=e,_.__e=!1,E=g.__r,X=0,h){for(_.state=_.__s,_.__d=!1,E&&E(t),f=_.render(_.props,_.state,_.context),A=0;A<_._sb.length;A++)_.__h.push(_._sb[A]);_._sb=[]}else do _.__d=!1,E&&E(t),f=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++X<25);_.state=_.__s,_.getChildContext!=null&&(o=C(C({},o),_.getChildContext())),h&&!d&&_.getSnapshotBeforeUpdate!=null&&(k=_.getSnapshotBeforeUpdate(a,p)),z=f,f!=null&&f.type===J&&f.key==null&&(z=ke(f.props.children)),c=ve(e,O(z)?z:[z],t,n,o,i,r,s,c,u,l),_.base=t.__e,t.__u&=-161,_.__h.length&&s.push(_),b&&(_.__E=_.__=null)}catch(N){if(t.__v=null,u||r!=null)if(N.then){for(t.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;r[r.indexOf(c)]=null,t.__e=c}else{for(j=r.length;j--;)ne(r[j]);_e(t)}else t.__e=n.__e,t.__k=n.__k,N.then||_e(t);g.__e(N,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=Re(n.__e,t,n,o,i,r,s,u,l);return(f=g.diffed)&&f(t),128&t.__u?void 0:c}function _e(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(_e)}function Se(e,t,n){for(var o=0;o<n.length;o++)re(n[o],n[++o],n[++o]);g.__c&&g.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(r){r.call(i)})}catch(r){g.__e(r,i.__v)}})}function ke(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:O(e)?e.map(ke):C({},e)}function Re(e,t,n,o,i,r,s,c,u){var l,f,_,d,a,p,k,b=n.props||U,m=t.props,h=t.type;if(h=="svg"?i="http://www.w3.org/2000/svg":h=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(l=0;l<r.length;l++)if((a=r[l])&&"setAttribute"in a==!!h&&(h?a.localName==h:a.nodeType==3)){e=a,r[l]=null;break}}if(e==null){if(h==null)return document.createTextNode(m);e=document.createElementNS(i,h,m.is&&m),c&&(g.__m&&g.__m(t,r),c=!1),r=null}if(h==null)b===m||c&&e.data==m||(e.data=m);else{if(r=r&&R.call(e.childNodes),!c&&r!=null)for(b={},l=0;l<e.attributes.length;l++)b[(a=e.attributes[l]).name]=a.value;for(l in b)if(a=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")_=a;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;K(e,l,null,a,i)}}for(l in m)a=m[l],l=="children"?d=a:l=="dangerouslySetInnerHTML"?f=a:l=="value"?p=a:l=="checked"?k=a:c&&typeof a!="function"||b[l]===a||K(e,l,a,b[l],i);if(f)c||_&&(f.__html==_.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(_&&(e.innerHTML=""),ve(t.type=="template"?e.content:e,O(d)?d:[d],t,n,o,h=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,s,r?r[0]:n.__k&&I(n,0),c,u),r!=null)for(l=r.length;l--;)ne(r[l]);c||(l="value",h=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[l]||h=="progress"&&!p||h=="option"&&p!=b[l])&&K(e,l,p,b[l],i),l="checked",k!=null&&k!=e[l]&&K(e,l,k,b[l],i))}return e}function re(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(i){g.__e(i,n)}}function xe(e,t,n){var o,i;if(g.unmount&&g.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||re(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){g.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&xe(o[i],t,n||typeof e.type!="function");n||ne(e.__e),e.__c=e.__=e.__e=void 0}function Oe(e,t,n){return this.constructor(e,n)}function qe(e,t,n){var o,i,r,s;t==document&&(t=document.documentElement),g.__&&g.__(e,t),i=(o=!1)?null:t.__k,r=[],s=[],oe(t,e=t.__k=We(J,null,[e]),i||U,U,t.namespaceURI,i?null:t.firstChild?R.call(t.childNodes):null,r,i?i.__e:t.firstChild,o,s),Se(r,e,s)}R=me.slice,g={__e:function(e,t,n,o){for(var i,r,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),s=i.__d),s)return i.__E=i}catch(c){e=c}throw e}},ae=0,V.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=C({},this.state),typeof e=="function"&&(e=e(C({},n),this.props)),e&&C(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ge(this))},V.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ge(this))},V.prototype.render=J,P=[],fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,de=function(e,t){return e.__v.__b-t.__v.__b},G.__r=0,pe=/(PointerCapture)$|Capture$/i,Z=0,ee=we(!1),te=we(!0);var Je=0;function H(e,t,n,o,i,r){t||(t={});var s,c,u=t;if("ref"in u)for(c in u={},t)c=="ref"?s=t[c]:u[c]=t[c];var l={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Je,__i:-1,__u:0,__source:i,__self:r};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)u[c]===void 0&&(u[c]=s[c]);return g.vnode&&g.vnode(l),l}var L,v,ie,Te,le=0,De=[],y=g,$e=y.__b,He=y.__r,Ce=y.diffed,Fe=y.__c,Ne=y.unmount,Pe=y.__;function se(e,t){y.__h&&y.__h(v,e,le||t),le=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function W(e){return le=1,Ve(Ie,e)}function Ve(e,t,n){var o=se(L++,2);if(o.t=e,!o.__c&&(o.__=[Ie(void 0,t),function(c){var u=o.__N?o.__N[0]:o.__[0],l=o.t(u,c);u!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=v,!v.__f)){var i=function(c,u,l){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(d){return!!d.__c});if(f.every(function(d){return!d.__N}))return!r||r.call(this,c,u,l);var _=o.__c.props!==c;return f.forEach(function(d){if(d.__N){var a=d.__[0];d.__=d.__N,d.__N=void 0,a!==d.__[0]&&(_=!0)}}),r&&r.call(this,c,u,l)||_};v.__f=!0;var r=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(c,u,l){if(this.__e){var f=r;r=void 0,i(c,u,l),r=f}s&&s.call(this,c,u,l)},v.shouldComponentUpdate=i}return o.__N||o.__}function Me(e,t){var n=se(L++,3);!y.__s&&ze(n.__H,t)&&(n.__=e,n.u=t,v.__H.__h.push(n))}function Ge(e,t){var n=se(L++,7);return ze(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ke(){for(var e;e=De.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Q),e.__H.__h.forEach(ce),e.__H.__h=[]}catch(t){e.__H.__h=[],y.__e(t,e.__v)}}y.__b=function(e){v=null,$e&&$e(e)},y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Pe&&Pe(e,t)},y.__r=function(e){He&&He(e),L=0;var t=(v=e.__c).__H;t&&(ie===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Q),t.__h.forEach(ce),t.__h=[],L=0)),ie=v},y.diffed=function(e){Ce&&Ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(De.push(t)!==1&&Te===y.requestAnimationFrame||((Te=y.requestAnimationFrame)||Qe)(Ke)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ie=v=null},y.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Q),n.__h=n.__h.filter(function(o){return!o.__||ce(o)})}catch(o){t.some(function(i){i.__h&&(i.__h=[])}),t=[],y.__e(o,n.__v)}}),Fe&&Fe(e,t)},y.unmount=function(e){Ne&&Ne(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Q(o)}catch(i){t=i}}),n.__H=void 0,t&&y.__e(t,n.__v))};var Ee=typeof requestAnimationFrame=="function";function Qe(e){var t,n=function(){clearTimeout(o),Ee&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);Ee&&(t=requestAnimationFrame(n))}function Q(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function ce(e){var t=v;e.__c=e.__(),v=t}function ze(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Ie(e,t){return typeof t=="function"?t(e):t}function Xe(e){if(!Number.isFinite(e)||e<=0)return"00:00:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function Ae(e){const t=Date.now(),n=new Date(e).getTime();return Math.max(0,Math.floor((n-t)/1e3))}function Ye({productId:e,shop:t,apiUrl:n}){const[o,i]=W(null),[r,s]=W(!0),[c,u]=W(null),[l,f]=W(null),[_,d]=W(null),a=Ge(()=>o!=null&&o.id?`countdown-timer-${o.id}`:null,[o==null?void 0:o.id]);if(Me(()=>{let $=!1;async function S(){try{s(!0),u(null),console.log("[TimerDebug] Starting fetch..."),console.log("[TimerDebug] API URL:",n),console.log("[TimerDebug] Params:",{productId:e,shop:t});const D=new URL(n);D.searchParams.set("productId",e),D.searchParams.set("shop",t);const x=await fetch(D.toString(),{cache:"default",headers:{Accept:"application/json","ngrok-skip-browser-warning":"true"}});if(console.log("[TimerDebug] Fetch response received. Status:",x.status),x.status===404){console.warn("[TimerDebug] 404 Not Found"),$||(i(null),u("No active timer found for this product."));return}if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const B=x.headers.get("content-type");if(console.log("[TimerDebug] Content-Type:",B),!B||!B.includes("application/json")){const tt=await x.text();throw console.warn("[TimerDebug] Invalid content type. First 100 chars:",tt.substring(0,100)),new Error("Invalid response format (not JSON)")}const Y=await x.json();console.log("[TimerDebug] JSON parsed:",Y),$||(Y.timer?(console.log("[TimerDebug] Setting timer state:",Y.timer),i(Y.timer)):(console.warn("[TimerDebug] No timer object in JSON"),i(null),u("API returned no timer object")))}catch(D){console.error("[TimerDebug] Error:",D),$||u(D.message||String(D))}finally{$||s(!1)}}return S(),()=>{$=!0}},[n,e,t]),Me(()=>{if(!o)return;if(console.log("[TimerDebug] Timer active effect running"),o.type==="fixed"){const S=Ae(o.endDate);f(S)}let $;if(o.type==="fixed")$=setInterval(()=>{const S=Ae(o.endDate);f(S),S<=0&&(clearInterval($),i(null))},1e3);else{if(!a)return;let S=_;if(!S){const D=localStorage.getItem(a);D?S=parseInt(D,10):(S=Date.now(),localStorage.setItem(a,S.toString())),d(S);const x=Math.floor((Date.now()-S)/1e3),B=Math.max(0,o.duration-x);f(B)}$=setInterval(()=>{const D=Math.floor((Date.now()-S)/1e3),x=Math.max(0,o.duration-D);f(x),x<=0&&(clearInterval($),localStorage.removeItem(a),i(null))},1e3)}return()=>clearInterval($)},[o,_,a]),r)return H("div",{style:{padding:"1rem",textAlign:"center",color:"#666",border:"1px solid #ddd"},children:"Loading timer... (Check Console)"});if(c)return H("div",{style:{padding:"1rem",textAlign:"center",color:"#721c24",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",margin:"1rem 0"},children:[H("strong",{children:"Debug Error:"})," ",c]});if(!o)return null;const p=o.customization||{},k=p.showUrgency&&l!=null&&l<=(p.urgencyThreshold||3600),b=p.showDescription&&p.description,m={small:{padding:"0.5rem 0.75rem",fontSize:"0.85rem",minHeight:"45px",countdownFontSize:"1.2rem",messageFontSize:"0.75rem"},medium:{padding:"1rem 1.5rem",fontSize:"1rem",minHeight:"60px",countdownFontSize:"1.8rem",messageFontSize:"0.9rem"},large:{padding:"1.5rem 2.5rem",fontSize:"1.2rem",minHeight:"80px",countdownFontSize:"2.5rem",messageFontSize:"1.1rem"}},h=p.timerSize||"medium",w=m[h]||m.medium,F={backgroundColor:p.backgroundColor||"#000000",color:p.textColor||"#ffffff",borderRadius:"8px",textAlign:"center",margin:"1rem 0",fontWeight:"normal",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",...w},M=p.urgencyNotification||"color-pulse",E=k?{fontWeight:"bold",...M==="color-pulse"&&{animation:"pulse 1s infinite",transform:"scale(1.02)",boxShadow:"0 4px 12px rgba(255, 0, 0, 0.3)"},...M==="text-blink"&&{animation:"blink 1s infinite"}}:{},X=p.position==="top"?{marginTop:"0",marginBottom:"1rem"}:p.position==="bottom"?{marginTop:"1rem",marginBottom:"0"}:{margin:"1rem 0"},A={...F,...E,...X},z={marginBottom:"0.5rem",fontSize:w.messageFontSize?`calc(${w.messageFontSize} * 1.1)`:"1rem",opacity:.95,fontWeight:"600"},j={marginBottom:"0.5rem",fontSize:w.messageFontSize||"0.9rem",opacity:.95,fontWeight:"500"},T={fontSize:w.countdownFontSize||"1.8rem",fontWeight:"bold",fontFamily:"monospace",letterSpacing:"2px",lineHeight:"1.2"},N={marginTop:"0.5rem",fontSize:w.messageFontSize?`calc(${w.messageFontSize} * 0.9)`:"0.8rem",opacity:.9,fontWeight:"400",lineHeight:"1.4"};return H("div",{style:A,className:"countdown-timer-widget",children:[p.title&&H("div",{style:z,children:p.title}),p.message&&H("div",{style:j,children:p.message}),H("div",{style:T,children:Xe(l)}),b&&H("div",{style:N,children:p.description}),H("style",{children:`
        @keyframes pulse {
          0%, 100% { 
            opacity: 1;
            transform: scale(1);
          }
          50% { 
            opacity: 0.85;
            transform: scale(1.05);
          }
        }
        @keyframes blink {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.3; }
        }
        .countdown-timer-widget {
          word-break: break-word;
        }
      `})]})}function Ze(){const e=window.location.pathname.match(/\/products\/([^/]+)/);return e?e[1]:null}function et(){const e=window.location.hostname;return e.includes(".myshopify.com")?e:null}function Ue(){const e=document.getElementById("countdown-timer-block");if(!e)return;const t=e.getAttribute("data-product-id")||Ze();let n=e.getAttribute("data-shop");n||(n=et());const o=e.getAttribute("data-api-url")||"http://localhost:3001/api/public/timer";if(!n){console.warn("Countdown Timer: Shop domain not found. Make sure the block is added to a product page.");return}if(!t){console.warn("Countdown Timer: Product ID not found.");return}const i=document.createElement("div");i.id="countdown-timer-widget",e.appendChild(i),qe(H(Ye,{productId:t,shop:n,apiUrl:o}),i)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ue):Ue()})();
